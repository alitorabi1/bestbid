<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>bid</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script>
            function loadCategories(){
                var ID=$("#mainCategoryList").val();
                ///api.php/todoitems/" + currentID
                 $.ajax({
                    url: "/api.php/category/"+ID,
                    // data: {},

                    statusCode: {
                        401: function (xhr) {
                            // $("#loginPane").show();
                            // $("#listPane").hide();
                        }
                    },
                    type: "GET",
                    dataType: "json"
                }).done(function (data) {
                    
                    var opts = "";
                    for (var i = 0; i < data.length; i++) {
                        opts += '<option value="' + data[i].ID + '">' + data[i].name + '</option>';
                    }
                    $("#categoryList").html(opts);
                });
            }
            function showMainCategory() {

                $.ajax({
                    url: "/api.php/maincategory",
                    // data: {},

                    statusCode: {
                        401: function (xhr) {
                            // $("#loginPane").show();
                            // $("#listPane").hide();
                        }
                    },
                    type: "GET",
                    dataType: "json"
                }).done(function (data) {
                    // var sel = $('#categoryList');
                    var opts = "";
                    for (var i = 0; i < data.length; i++) {
                        opts += '<option value="' + data[i].ID + '">' + data[i].name + '</option>';
                    }
                    $("#mainCategoryList").html(opts);
                });







            }
            $(document).ready(function () {
                showMainCategory();

            });

        </script>
    </head>
    <body>
        <div>
            <select name="maincategoryList" id="mainCategoryList" onchange="loadCategories()">               
            </select><br><br>
            <select name="categoryList" id="categoryList">               
            </select><br><br>
            item name for sell: <input type="text" name="name"><br>
            description: <input type="text" name="description"><br>
            <form action="upload.php" method="post" enctype="multipart/form-data">
                Choose item picture:
                <input type="file" name="fileToUpload">
                <input type="submit" value="Upload Image" name="submit">
            </form>
             Bid Type: <input type="text" name="description"><br>
             Minimum Bid Amount(CAD)<input type="number" step="0.01" name="minimumBid"><br>
              Bid Start Time:<input type="date" name="bidStartTime">
              Bid End Time:<input type="date" name="bidEndTime">
              Shipping Fee(CAD)<input type="number" step="0.01" name="shippingFee"><br>
             

        </div>
    </body>
</html>
